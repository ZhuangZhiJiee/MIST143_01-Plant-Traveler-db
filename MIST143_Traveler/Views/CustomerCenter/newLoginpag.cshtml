
@{
    ViewData["Title"] = "newLoginpag";
    Layout = null;

}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous" />
<link rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" />
<!------ Include the above in your HEAD tag ---------->
<!------ Include the above in your HEAD tag ---------->
@*<html>*@

<head>
    <title>Login Page</title>


    <link href="~/css/LOGIN.css" rel="stylesheet" />
    <!--Fontawesome CDN-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

    <!--Custom styles-->

</head>

@*@using (Html.BeginForm())
    {

        @Html.AntiForgeryToken()*@
<body>


    <div class="container">
        <div class="d-flex justify-content-center h-100">
            <div class="card">
                <div class="card-header">
                    <h3>Sign In</h3>
                    <div class="d-flex justify-content-end social_icon">
                        <span><i class="fab fa-facebook-square"></i></span>
                        <span><i class="fab fa-google-plus-square"></i></span>
                        <span><i class="fab fa-twitter-square"></i></span>
                    </div>
                </div>
                <div class="card-body">

                    @*<form name="userInfo" method="post" enctype="application/x-www-form-urlencoded" action="~/CustomerCenter/newLogh">*@
                    <div class="input-group form-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text"><i class="fas fa-user"></i></span>
                        </div>
                        <input type="text" class="form-control" placeholder="Email帳號" id="Actemail" name="Email">

                    </div>
                    <div class="input-group form-group mb-2">
                        <div class="input-group-prepend">
                            <span class="input-group-text"><i class="fas fa-key"></i></span>
                        </div>
                        <input type="password" class="form-control" placeholder="password" id="Pas" name="Password">
                    </div>
                    <div class="row align-items-center remember mb-4">
                        <input type="checkbox" value="true" id="chkKeepLogin">記住我
                    </div>
                    <div class="form-group mt-2">
                        <input type="submit" value="Login" onclick="BtnLogin()" id="btnlog" class="btn float-right login_btn">
                    </div>
                    @*</form>*@

                </div>
                <div class="card-footer">
                    <div class="d-flex justify-content-center links">
                        Don't have an account?<a href="#">Sign Up</a>
                    </div>
                    <div class="d-flex justify-content-center">
                        <a href="@Url.ActionLink("Forgetpas","CustomerCenter")">Forgot your password?</a>
                    </div>
                    <button type="button" class="btn btn-success" id=" demo" onclick="DemoValue()">Demo</button>
                    <button type="button" class="btn btn-success" id=" acc" onclick="Demo()">Demo帳號</button>
                </div>
            </div>
        </div>
    </div>
    @*"@Url.ActionLink("Coupon", "CustomerCenter"*@

</body >
    <script>
        function Demo()
        {
            $("#Actemail").val("planettravelermsit143@outlook.com")
        }

    const DemoValue = () => {
        let act = document.querySelector("#Actemail");
        let pas = document.querySelector("#Pas");
        
        //Swal.fire(
        //    'Good job!',
        //    'You clicked the button!',
        //    'success'
        //)
        act.value = "msit143-1customer@outlook.com";
        pas.value = "a77777777";
        }


        //登入開始
        const BtnLogin = () => {//ONCLICK事件

        var postData = {//把要取欄位的值轉成JSON物件
            Email: $("#Actemail").val(),//EMIL跟PASSWORD名子要跟VIEWMODEL一樣
            Password: $("#Pas").val(),
            KeepLogin: $("#chkKeepLogin").val(),
            };

        $.ajax({
            url: '@Url.Action("newLoginpag","CustomerCenter")',//傳遞值
            method: 'POST',//對應左邊的HTTPPOST
            dataType: 'JSON',//前端給後端
            data: { vModel: postData },//看左邊對應vModel名子要一樣
            success: function (datas) {//datas是傳回的資料.下面開始操作後續的動作

                if (!datas.res) {//看左邊 如果DATAS傳回失敗的話
                    Swal.fire({
                        icon: 'error',
                        title: '輸入錯誤',
                        text: datas.msg,

                    })
                    return;
                }
           

                window.location = "/Home/Index";//成功的話導向首頁

            },
            error: function (err) {//其他錯誤 代表沒有輸入值
                Swal.fire('輸入錯誤');
            },

        });
      }

    </script>
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"
            integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
            crossorigin="anonymous"></script>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css"
          media="screen" />
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>








